(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{620:function(s,t,a){s.exports=a.p+"assets/img/image-20191217085007969.f49bac60.png"},621:function(s,t,a){s.exports=a.p+"assets/img/image-20191217085558447.272f0728.png"},622:function(s,t,a){s.exports=a.p+"assets/img/image-20191217154212337.c932d5a2.png"},623:function(s,t,a){s.exports=a.p+"assets/img/image-20191217160603632.dc1177c9.png"},732:function(s,t,a){"use strict";a.r(t);var n=a(18),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"django-rest-framework"}},[s._v("Django  REST  framework")]),s._v(" "),n("blockquote",[n("p",[s._v("ğŸ‘‰"),n("a",{attrs:{href:"https://www.django-rest-framework.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Django  REST  framework å®˜ç½‘"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"ä¸€ã€webç®€ä»‹"}},[s._v("ä¸€ã€webç®€ä»‹")]),s._v(" "),n("h3",{attrs:{id:"_1-webåº”ç”¨æ¨¡å¼-äº†è§£"}},[s._v("1 | webåº”ç”¨æ¨¡å¼(äº†è§£)")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("ç›®çš„: çŸ¥é“webå¼€å‘çš„ä¸¤ç§æ¨¡å¼")])]),s._v(" "),n("li",[n("p",[s._v("å‰åç«¯åˆ†ç¦»:")]),s._v(" "),n("p",[s._v("æ³¨æ„ç‚¹: ä¸šåŠ¡æœåŠ¡å™¨å’Œé™æ€æœåŠ¡å™¨æ˜¯åˆ†å¼€çš„ï¼Œé™æ€æœåŠ¡å™¨å¯ä»¥ç”¨"),n("code",[s._v("Apache")]),s._v("æˆ–è€…"),n("code",[s._v("Nginx")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(620),alt:"image-20191217085007969"}})])]),s._v(" "),n("li",[n("p",[s._v("å‰åç«¯ä¸åˆ†ç¦»:")]),s._v(" "),n("p",[s._v("æ³¨æ„ç‚¹: é¡µé¢å’Œæ•°æ®éƒ½æ˜¯æœ‰åç«¯å¤„ç†çš„")]),s._v(" "),n("p",[n("img",{attrs:{src:a(621),alt:"image-20191217085558447"}})])])]),s._v(" "),n("h3",{attrs:{id:"_2-restfulé£æ ¼ä»‹ç»-äº†è§£"}},[s._v("2 | RESTfulé£æ ¼ä»‹ç»(äº†è§£)")]),s._v(" "),n("p",[s._v("ï¼ˆ1ï¼‰å…¨ç§°"),n("code",[s._v("Representational State Transfer")]),s._v("ï¼ˆç”±Roy Fieldingæå‡ºï¼‰")]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰RESTFfulæ˜¯ä¸€ç§ç½‘ç»œåº”ç”¨ç¨‹åºçš„è®¾è®¡é£æ ¼å’Œå¼€å‘æ–¹å¼ï¼ŒåŸºäº"),n("code",[s._v("HTTP")]),s._v("ï¼Œå¯ä»¥ä½¿ç”¨"),n("code",[s._v("XML")]),s._v("æ ¼å¼å®šä¹‰æˆ–"),n("code",[s._v("JSON")]),s._v("æ ¼å¼å®šä¹‰")]),s._v(" "),n("p",[s._v("ï¼ˆ3ï¼‰ç›®çš„: çŸ¥é“ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨RESTfulé£æ ¼è¿›è¡Œå¼€å‘")]),s._v(" "),n("p",[s._v("ï¼ˆ4ï¼‰åŸå› ï¼šæ¯ä¸ªåç«¯å¼€å‘äººå‘˜å¯èƒ½éƒ½æœ‰è‡ªå·±çš„å®šä¹‰æ–¹å¼ï¼Œé£æ ¼è¿¥å¼‚")]),s._v(" "),n("p",[s._v("ï¼ˆ5ï¼‰è§£å†³åŠæ³•ï¼šä½¿ç”¨RESTfulï¼Œç»Ÿä¸€æ¥å£è§„èŒƒ")]),s._v(" "),n("h3",{attrs:{id:"_3-restfulè®¾è®¡é£æ ¼-äº†è§£"}},[s._v("3 | RESTfulè®¾è®¡é£æ ¼(äº†è§£)")]),s._v(" "),n("p",[s._v("ç›®çš„: çŸ¥é“å¸¸è§çš„RESTfulé£æ ¼çš„æ ‡å‡†")]),s._v(" "),n("p",[s._v("å…·ä½“çš„æ ‡å‡†:")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("APIéƒ¨ç½²çš„åŸŸå, ä½¿ç”¨ä¸»åŸŸåæˆ–è€…ä¸“æœ‰åŸŸå")])]),s._v(" "),n("li",[n("p",[s._v("ç‰ˆæœ¬,  é€šè¿‡URLåœ°å€æˆ–è€…è¯·æ±‚å¤´accept")])]),s._v(" "),n("li",[n("p",[s._v("è·¯å¾„, åªèƒ½æœ‰åè¯, ä¸èƒ½æœ‰åŠ¨è¯")])]),s._v(" "),n("li",[n("p",[s._v("HTTPè¯·æ±‚åŠ¨è¯,  GET, POST, PUT, DELETE")])]),s._v(" "),n("li",[n("p",[s._v("çŠ¶æ€, 200, 201, 204, 400, 401, 403, 404")]),s._v(" "),n("p",[s._v("201ï¼šèµ„æºæ·»åŠ æˆåŠŸçš„çŠ¶æ€ç ")]),s._v(" "),n("p",[s._v("204ï¼šèµ„æºåˆ é™¤æˆåŠŸçš„çŠ¶æ€ç ")]),s._v(" "),n("p",[s._v("â€¦...")])])]),s._v(" "),n("h3",{attrs:{id:"_4-restfulæ¡ˆä¾‹-äº†è§£"}},[s._v("4 | RESTfulæ¡ˆä¾‹(äº†è§£)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥ä½¿ç”¨restfulé£æ ¼è®¾è®¡å›¾ä¹¦å¢åˆ æ”¹æŸ¥çš„æ¡ˆä¾‹")]),s._v(" "),n("p",[s._v("æ¡ˆä¾‹:")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("åŠŸèƒ½")]),s._v(" "),n("th",[s._v("è·¯å¾„")]),s._v(" "),n("th",[s._v("è¯·æ±‚æ–¹å¼")]),s._v(" "),n("th",[s._v("å“åº”çŠ¶æ€ç ")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("è·å–æ‰€æœ‰çš„ä¹¦ç±")]),s._v(" "),n("td",[s._v("/books")]),s._v(" "),n("td",[s._v("GET")]),s._v(" "),n("td",[s._v("200")])]),s._v(" "),n("tr",[n("td",[s._v("åˆ›å»ºä¹¦ç±")]),s._v(" "),n("td",[s._v("/books")]),s._v(" "),n("td",[s._v("POST")]),s._v(" "),n("td",[s._v("201")])]),s._v(" "),n("tr",[n("td",[s._v("è·å–å•ä¸ªä¹¦ç±")]),s._v(" "),n("td",[s._v("/books/{id}")]),s._v(" "),n("td",[s._v("GET")]),s._v(" "),n("td",[s._v("200")])]),s._v(" "),n("tr",[n("td",[s._v("ä¿®æ”¹ä¹¦ç±")]),s._v(" "),n("td",[s._v("/books/{id}")]),s._v(" "),n("td",[s._v("PUT")]),s._v(" "),n("td",[s._v("201")])]),s._v(" "),n("tr",[n("td",[s._v("åˆ é™¤ä¹¦ç±")]),s._v(" "),n("td",[s._v("/books/{id}")]),s._v(" "),n("td",[s._v("DELETE")]),s._v(" "),n("td",[s._v("204")])]),s._v(" "),n("tr",[n("td"),s._v(" "),n("td"),s._v(" "),n("td"),s._v(" "),n("td")])])]),s._v(" "),n("h2",{attrs:{id:"äºŒã€drf"}},[s._v("äºŒã€DRF")]),s._v(" "),n("h3",{attrs:{id:"_01-æ•°æ®å‡†å¤‡"}},[s._v("01 | æ•°æ®å‡†å¤‡")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥å°†å›¾ä¹¦å’Œè‹±é›„çš„ä¿¡æ¯æ·»åŠ åˆ°æ•°æ®ä¸­")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("ol",[n("li",[s._v("åˆ›å»ºé¡¹ç›®, åˆ›å»ºbooktestå­åº”ç”¨")]),s._v(" "),n("li",[s._v("åœ¨å­åº”ç”¨ä¸­å®šä¹‰æ¨¡å‹ç±»")]),s._v(" "),n("li",[s._v("æ³¨å†Œå­åº”ç”¨, è®¾ç½®æ•°æ®åº“é…ç½®")]),s._v(" "),n("li",[s._v("åˆ›å»ºæ•°æ®åº“, è¿ç§»")])]),s._v(" "),n("h3",{attrs:{id:"_02-æŸ¥è¯¢æ‰€æœ‰æ•°æ®-ç†è§£"}},[s._v("02 | æŸ¥è¯¢æ‰€æœ‰æ•°æ®(ç†è§£)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥ç¼–å†™è§†å›¾æŸ¥è¯¢æ‰€æœ‰çš„ä¹¦ç±ä¿¡æ¯")]),s._v(" "),n("p",[s._v("æ³¨æ„ç‚¹:")]),s._v(" "),n("p",[n("mark",[s._v("http.JsonResponse(books_list,safe="),n("strong",[s._v("False")]),s._v(")")])]),s._v(" "),n("p",[s._v("Tip: safe=Falseå…è®¸éå­—å…¸æ•°æ®å¯ä»¥è¢«è¿”å›")]),s._v(" "),n("h3",{attrs:{id:"_03-åˆ›å»ºå¯¹è±¡-ç†è§£"}},[s._v("03 | åˆ›å»ºå¯¹è±¡(ç†è§£)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥æ·»åŠ ä¹¦ç±å¯¹è±¡åˆ°æ•°æ®åº“ä¸­")]),s._v(" "),n("p",[s._v("æ³¨æ„ç‚¹:")]),s._v(" "),n("p",[n("mark",[s._v("book = BookInfo.objects.create(**data_dict)")])]),s._v(" "),n("h3",{attrs:{id:"_04-è·å–å•ä¸ªå¯¹è±¡-ç†è§£"}},[s._v("04 | è·å–å•ä¸ªå¯¹è±¡(ç†è§£)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥è·å–æŒ‡å®šä¹¦ç±å¯¹è±¡")]),s._v(" "),n("p",[s._v("æ³¨æ„ç‚¹:")]),s._v(" "),n("p",[n("mark",[s._v("book = BookInfo.objects.get(id=book_id)")])]),s._v(" "),n("h3",{attrs:{id:"_05-ä¿®æ”¹å•ä¸ªå¯¹è±¡-ç†è§£"}},[s._v("05 | ä¿®æ”¹å•ä¸ªå¯¹è±¡(ç†è§£)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥ä¿®æ”¹æŒ‡å®šä¹¦ç±å¯¹è±¡")]),s._v(" "),n("p",[s._v("æ³¨æ„ç‚¹:")]),s._v(" "),n("p",[n("mark",[s._v("BookInfo.objects.filter(id=book_id).update(**data_dict)")])]),s._v(" "),n("h3",{attrs:{id:"_06-åˆ é™¤å•ä¸ªå¯¹è±¡-ç†è§£"}},[s._v("06 | åˆ é™¤å•ä¸ªå¯¹è±¡(ç†è§£)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥åˆ é™¤æŒ‡å®šä¹¦ç±å¯¹è±¡")]),s._v(" "),n("p",[s._v("æ³¨æ„ç‚¹:")]),s._v(" "),n("p",[n("mark",[s._v("BookInfo.objects.get(id=book_id).delete()")])]),s._v(" "),n("h3",{attrs:{id:"_07-drfé­…åŠ›å±•ç¤º-äº†è§£"}},[s._v("07 | DRFé­…åŠ›å±•ç¤º(äº†è§£)")]),s._v(" "),n("p",[s._v("ç›®çš„: ä½“ä¼šDRFçš„å¼ºå¤§ä¹‹å¤„å³å¯")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("p",[n("strong",[s._v("ï¼ˆ1ï¼‰æ³¨å†Œå­åº”ç”¨(day01/settings.py)")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("INSTALLED_APPS "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rest_framework'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ2ï¼‰ç¼–å†™è·¯ç”±(booktest/urls.py)")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,urléƒ¨åˆ†")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("routers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" DefaultRouter\n router "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" DefaultRouter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("register"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'books'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("views"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BookViewSet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("base_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"books"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n urlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("urls\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ4ï¼‰ç¼–å†™åºåˆ—åŒ–å™¨, è§†å›¾(booktest/views.py)")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" serializers\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookInfo\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("viewsets "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" ModelViewSet\n   \n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åºåˆ—åŒ–å™¨")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookModelSeriralizer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ModelSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n       "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n           model "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookInfo\n           fields "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"__all__"')]),s._v("\n   \n           "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,è§†å›¾é›†")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookViewSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ModelViewSet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n               queryset "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("all")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n               serializer_class "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookModelSeriralizer\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"_08-åºåˆ—åŒ–å™¨æ¦‚è¿°-äº†è§£"}},[s._v("08 | åºåˆ—åŒ–å™¨æ¦‚è¿°(äº†è§£)")]),s._v(" "),n("p",[s._v("ï¼ˆ1ï¼‰ç›®çš„: çŸ¥é“åºåˆ—åŒ–å™¨çš„ä½œç”¨")]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰DRF:")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("åºåˆ—åŒ–å™¨(1.5å¤©)")])]),s._v(" "),n("li",[n("p",[s._v("è§†å›¾(1å¤©)")])]),s._v(" "),n("li",[n("p",[s._v("è·¯ç”±(0.2å¤©)")])])]),s._v(" "),n("p",[s._v("ï¼ˆ3ï¼‰åºåˆ—åŒ–å™¨çš„ä½œç”¨:")]),s._v(" "),n("p",[s._v("ååºåˆ—åŒ–: æŠŠjson(dict), è½¬æˆæ¨¡å‹ç±»å¯¹è±¡ (æ ¡éªŒ,å…¥åº“)")]),s._v(" "),n("p",[s._v("åºåˆ—åŒ–: å°†æ¨¡å‹ç±»å¯¹è±¡, è½¬æˆjson(dict)æ•°æ®")]),s._v(" "),n("h3",{attrs:{id:"_09-åºåˆ—åŒ–å™¨å®šä¹‰-æŒæ¡"}},[s._v("09 | åºåˆ—åŒ–å™¨å®šä¹‰(æŒæ¡)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥å®šä¹‰ä¹¦ç±çš„åºåˆ—åŒ–å™¨")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" serializers\n"),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""\n  å®šä¹‰åºåˆ—åŒ–å™¨:\n  1, å®šä¹‰ç±», ç»§æ‰¿è‡ªSerializer\n  2, ç¼–å†™å­—æ®µåç§°, å’Œæ¨¡å‹ç±»ä¸€æ ·\n  3, ç¼–å†™å­—æ®µç±»å‹, å’Œæ¨¡å‹ç±»ä¸€æ ·\n  4, ç¼–å†™å­—æ®µé€‰é¡¹, å’Œæ¨¡å‹ç±»ä¸€æ ·\n      read_only: åªè¯»\n      label: å­—æ®µè¯´æ˜\n\n  åºåˆ—åŒ–å™¨ä½œç”¨:\n  1, ååºåˆ—åŒ–: å°†json(dict)æ•°æ®, è½¬æˆæ¨¡å‹ç±»å¯¹è±¡\n      â‘ : æ ¡éªŒ\n      â‘¡: å…¥åº“\n\n  2, åºåˆ—åŒ–: å°†æ¨¡å‹ç±»å¯¹è±¡, è½¬æˆjson(dict)æ•°æ®\n  """')]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å®šä¹‰ä¹¦ç±åºåˆ—åŒ–å™¨")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookSerializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IntegerField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("read_only"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ä¹¦ç±ç¼–å·"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    btitle "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"åç§°"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    bpub_date "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DateField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"å‘å¸ƒæ—¥æœŸ"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    bread "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IntegerField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é˜…è¯»é‡"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    bcomment "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IntegerField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è¯„è®ºé‡"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    is_delete "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BooleanField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é€»è¾‘åˆ é™¤"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("h3",{attrs:{id:"_10-åºåˆ—åŒ–å™¨-åºåˆ—åŒ–å•ä¸ªå¯¹è±¡-æŒæ¡"}},[s._v("10 | åºåˆ—åŒ–å™¨ï¼Œåºåˆ—åŒ–å•ä¸ªå¯¹è±¡(æŒæ¡)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥å°†å•æœ¬æ•°æ®ä½¿ç”¨åºåˆ—åŒ–å™¨, è½¬æˆjson(dict)æ•°æ®")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookInfo\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookSerializer\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,è·å–ä¹¦ç±å¯¹è±¡")]),s._v("\nbook "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºåºåˆ—åŒ–å™¨å¯¹è±¡, instance=book è¡¨ç¤ºå°†å“ªä¸€æœ¬æ•°æ®è¿›è¡Œåºåˆ—åŒ–")]),s._v("\nserializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("instance"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("book"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,è¾“å‡ºåºåˆ—åŒ–ä¹‹åçš„ç»“æœ")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data\n"),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v("\"\"\"\n  {'id': 1, 'btitle': 'å°„é›•è‹±é›„ä¼ ', 'bpub_date': '1980-05-01', 'bread': 12, 'bcomment': 34, 'is_delete': False}\n  \"\"\"")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"_11-åºåˆ—åŒ–å™¨-åºåˆ—åŒ–åˆ—è¡¨æ•°æ®-æŒæ¡"}},[s._v("11 | åºåˆ—åŒ–å™¨,åºåˆ—åŒ–åˆ—è¡¨æ•°æ®(æŒæ¡)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥ä½¿ç”¨åºåˆ—åŒ–å™¨,å¯¹åˆ—è¡¨ä¸­çš„å¤šä¸ªå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookInfo\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookSerializer\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,æŸ¥è¯¢æ‰€æœ‰çš„ä¹¦ç±")]),s._v("\n  books "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("all")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºåºåˆ—åŒ–å™¨å¯¹è±¡,many=True è¡¨ç¤ºä¼ å…¥çš„æ˜¯åˆ—è¡¨å¯¹è±¡(å¤šä¸ªæ•°æ®)")]),s._v("\n  serializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("instance"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("books"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("many"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,è¾“å‡ºåºåˆ—åŒ–çš„ç»“æœ")]),s._v("\n  serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data\n  "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v("\"\"\"\n  [\n  OrderedDict([('id', 1), ('btitle', 'å°„é›•è‹±é›„ä¼ '), ('bpub_date', '1980-05-01'), ('bread', 12), ('bcomment', 34), ('is_delete', False)]), \n  OrderedDict([('id' ('btitle', 'å¤©é¾™å…«éƒ¨'), ('bpub_date', '1986-07-24'), ('bread', 36), ('bcomment', 40), ('is_delete', False)]), \n  OrderedDict([('id', 3), ('btitle', 'ç¬‘å‚²æ±Ÿæ¹–'), ('bp, '1995-12-24'), ('bread', 20), ('bcomment', 80), ('is_delete', False)]), \n  OrderedDict([('id', 4), ('btitle', 'é›ªå±±é£ç‹'), ('bpub_date', '1987-11-11'), ('bread', 58'bcomment', 24), ('is_delete', False)]), \n  OrderedDict([('id', 6), ('btitle', 'é‡‘ç“¶x2'), ('bpub_date', '2019-01-01'), ('bread', 10), ('bcomment', 5), ('is_delete', Fse)])\n  ]\n  \"\"\"")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("p",[n("strong",[s._v("æ³¨æ„ç‚¹:")])]),s._v(" "),n("ol",[n("li",[s._v("serializer = BookSerializer(instance=books,many=True)")]),s._v(" "),n("li",[s._v("instance: éœ€è¦åºåˆ—åŒ–çš„å¯¹è±¡")]),s._v(" "),n("li",[s._v("many=True: é»˜è®¤æ˜¯None, å¦‚æœä¼ å…¥True, éœ€è¦åºåˆ—åŒ–çš„å¯¹è±¡æ˜¯åˆ—è¡¨")]),s._v(" "),n("li",[s._v("serializer.data: è¡¨ç¤ºè¾“å‡ºåºåˆ—åŒ–ä¹‹åçš„ç»“æœ")])]),s._v(" "),n("h3",{attrs:{id:"_12-è‹±é›„åºåˆ—åŒ–å™¨å…³è”å¤–é”®-æŒæ¡"}},[s._v("12 | è‹±é›„åºåˆ—åŒ–å™¨å…³è”å¤–é”®(æŒæ¡)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥å°†å…³è”è‹±é›„çš„ä¹¦ç±ä¿¡æ¯, ä¸‰ç§å½¢å¼è¡¨ç¤ºå‡ºæ¥")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("p",[n("strong",[s._v("ï¼ˆ1ï¼‰åºåˆ—åŒ–å™¨")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,å®šä¹‰è‹±é›„åºåˆ—åŒ–å™¨")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HeroInfoSerializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""è‹±é›„æ•°æ®åºåˆ—åŒ–å™¨"""')]),s._v("\n      GENDER_CHOICES "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'female'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IntegerField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ID'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" read_only"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      hname "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'åå­—'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      hgender "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ChoiceField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choices"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("GENDER_CHOICES"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ€§åˆ«'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" required"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      hcomment "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æè¿°ä¿¡æ¯'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" required"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" allow_null"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,æ·»åŠ å¤–é”®,ä¸»é”®è¡¨ç¤º å¿…é¡»æä¾›`queryset` é€‰é¡¹, æˆ–è€…è®¾ç½® read_only=`True`.")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hbook = serializers.PrimaryKeyRelatedField(queryset=BookInfo.objects.all())")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hbook = serializers.PrimaryKeyRelatedField(read_only=True)")]),s._v("\n  \n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,æ·»åŠ å¤–é”®, æ¥è‡ªäºå…³è”æ¨¡å‹ç±», __str__çš„è¿”å›å€¼")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hbook = serializers.StringRelatedField(read_only=True)")]),s._v("\n  \n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,æ·»åŠ å¤–é”®,å…³è”å¦å¤–ä¸€ä¸ªåºåˆ—åŒ–å™¨")]),s._v("\n      hbook "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("read_only"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ2ï¼‰ç±»è§†å›¾")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('""" ===============3, è‹±é›„åºåˆ—åŒ–å™¨, å…³è”å¤–é”® ================= """')]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" HeroInfo\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" HeroInfoSerializer\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,è·å–å•ä¸ªè‹±é›„")]),s._v("\n  hero "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" HeroInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºè‹±é›„åºåˆ—åŒ–å™¨")]),s._v("\n  serializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" HeroInfoSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("instance"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("hero"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,è¾“å‡ºç»“æœ")]),s._v("\n  serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data\n    \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"_13-ä¹¦ç±åºåˆ—åŒ–å™¨-å…³è”many-æŒæ¡"}},[s._v("13| ä¹¦ç±åºåˆ—åŒ–å™¨,å…³è”many(æŒæ¡)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥åœ¨åºåˆ—åŒ–ä¹¦ç±çš„æ—¶å€™, å±•ç¤ºè‹±é›„çš„ä¿¡æ¯")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å®šä¹‰ä¹¦ç±åºåˆ—åŒ–å™¨")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookSerializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å…³è”è‹±é›„å­—æ®µ, åœ¨ä¸€æ–¹ä¸­,è¾“å‡ºå¤šæ–¹å†…å®¹çš„æ—¶å€™åŠ ä¸Šmany=True")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# heroinfo_set = serializers.PrimaryKeyRelatedField(read_only=True,many=True)")]),s._v("\n    heroinfo_set "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("StringRelatedField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("read_only"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("many"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"_14-ååºåˆ—åŒ–-å­—æ®µç±»å‹æ ¡éªŒ"}},[s._v("14 | ååºåˆ—åŒ–-å­—æ®µç±»å‹æ ¡éªŒ")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥ä½¿ç”¨åºåˆ—åŒ–å™¨,å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒæ“ä½œ")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("div",{staticClass:"language-Python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookSerializer\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å‡†å¤‡å­—å…¸æ•°æ®")]),s._v("\ndata_dict "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"btitle"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é‡‘ç“¶x-æ’ç”»ç‰ˆ"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bpub_date"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2019-01-01"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bread"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bcomment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºåºåˆ—åŒ–å™¨å¯¹è±¡")]),s._v("\nserializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("data_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,æ ¡éªŒ, raise_exception=True, æ ¡éªŒä¸é€šè¿‡,æŠ›å‡ºå¼‚å¸¸ä¿¡æ¯")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# serializer.is_valid()")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is_valid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("raise_exception"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h3",{attrs:{id:"_15-ååºåˆ—åŒ–-å­—æ®µé€‰é¡¹æ ¡éªŒ"}},[s._v("15 | ååºåˆ—åŒ–-å­—æ®µé€‰é¡¹æ ¡éªŒ")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥ä½¿ç”¨åºåˆ—åŒ–å™¨,å¯¹æ•°æ®è¿›è¡Œé€‰é¡¹çº¦æŸæ ¡éªŒ")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("p",[n("strong",[s._v("ï¼ˆ1ï¼‰åºåˆ—åŒ–å™¨")])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("min_value=0")])]),s._v(" "),n("li",[n("p",[s._v("max_value=50")])]),s._v(" "),n("li",[n("p",[s._v("çº¦æŸæ¼”ç¤º")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookSerializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    bread "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IntegerField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("min_value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é˜…è¯»é‡"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    bcomment "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IntegerField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("max_value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è¯„è®ºé‡"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    is_delete "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BooleanField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é€»è¾‘åˆ é™¤"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])])]),s._v(" "),n("p",[n("strong",[s._v("ï¼ˆ2ï¼‰ç±»è§†å›¾")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookSerializer\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å‡†å¤‡å­—å…¸æ•°æ®")]),s._v("\ndata_dict "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"btitle"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é‡‘ç“¶x"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bpub_date"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2019-01-01"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bread"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bcomment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºåºåˆ—åŒ–å™¨å¯¹è±¡")]),s._v("\nserializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("data_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,æ ¡éªŒ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# serializer.is_valid()")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is_valid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("raise_exception"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h3",{attrs:{id:"_16-ååºåˆ—åŒ–-å•å­—æ®µæ ¡éªŒ"}},[s._v("16 | ååºåˆ—åŒ–-å•å­—æ®µæ ¡éªŒ")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥ç¼–å†™å•å­—æ®µæ ¡éªŒæ–¹æ³•, å¯¹btitleè¿›è¡Œæ ¡éªŒ")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("p",[n("strong",[s._v("ï¼ˆ1ï¼‰ åºåˆ—åŒ–å™¨")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookSerializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3, å•å­—æ®µæ ¡éªŒ, æ–¹æ³•; éœ€æ±‚: æ·»åŠ çš„ä¹¦ç±å¿…é¡»åŒ…å«'é‡‘ç“¶'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("validate_btitle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value = {}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,åˆ¤æ–­ä¼ å…¥çš„valueä¸­æ˜¯å¦åŒ…å«é‡‘ç“¶")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é‡‘ç“¶"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("raise")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ValidationError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ä¹¦åå¿…é¡»åŒ…å«é‡‘ç“¶"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,è¿”å›ç»“æœ")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" value\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ2ï¼‰ç±»è§†å›¾")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookSerializer\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å‡†å¤‡å­—å…¸æ•°æ®")]),s._v("\ndata_dict "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"btitle"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é‡‘ç“¶x"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bpub_date"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2019-01-01"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bread"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bcomment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºåºåˆ—åŒ–å™¨å¯¹è±¡")]),s._v("\nserializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("data_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,æ ¡éªŒ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# serializer.is_valid()")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is_valid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("raise_exception"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ3ï¼‰æ³¨æ„ç‚¹:")])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("å•å­—æ®µæ ¡éªŒæ–¹æ³•")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" validate_å­—æ®µå"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("å¦‚æœæ ¡éªŒä¸é€šè¿‡,ç›´æ¥æŠ›å‡ºå¼‚å¸¸å³å¯")])])]),s._v(" "),n("h3",{attrs:{id:"_17-ååºåˆ—åŒ–-å¤šå­—æ®µæ ¡éªŒ"}},[s._v("17 | ååºåˆ—åŒ–-å¤šå­—æ®µæ ¡éªŒ")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥ç¼–å†™å¤šå­—æ®µæ ¡éªŒæ–¹æ³•, å¯¹é˜…è¯»é‡å’Œè¯„è®ºé‡è¿›è¡Œåˆ¤æ–­")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("p",[n("strong",[s._v("ï¼ˆ1ï¼‰åºåˆ—åŒ–å™¨")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookSerializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4,å¤šå­—æ®µæ ¡éªŒ, æ–¹æ³•; æ·»åŠ ä¹¦ç±çš„æ—¶å€™,è¯„è®ºé‡ä¸èƒ½å¤§äºé˜…è¯»é‡")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("validate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" attrs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""\n        :param attrs: å¤–ç•Œä¼ å…¥çš„éœ€è¦æ ¡éªŒçš„å­—å…¸\n        :return:\n        """')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,åˆ¤æ–­è¯„è®ºé‡å’Œé˜…è¯»é‡çš„å…³ç³»")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" attrs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bread"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" attrs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bcomment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("raise")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ValidationError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è¯„è®ºé‡ä¸èƒ½å¤§äºé˜…è¯»é‡"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,è¿”å›ç»“æœ")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" attrs\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ2ï¼‰ç±»è§†å›¾")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('""" ===============7, ååºåˆ—åŒ–-å¤šå­—æ®µæ ¡éªŒ ================= """')]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookSerializer\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å‡†å¤‡å­—å…¸æ•°æ®")]),s._v("\ndata_dict "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"btitle"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é‡‘ç“¶xxx"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bpub_date"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2019-01-01"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bread"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bcomment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºåºåˆ—åŒ–å™¨å¯¹è±¡")]),s._v("\nserializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("data_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,æ ¡éªŒ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# serializer.is_valid()")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is_valid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("raise_exception"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h3",{attrs:{id:"_18-ååºåˆ—åŒ–-è‡ªå®šä¹‰æ ¡éªŒ-ç†è§£"}},[s._v("18| ååºåˆ—åŒ–-è‡ªå®šä¹‰æ ¡éªŒ(ç†è§£)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥è‡ªå®šä¹‰æ–¹æ³•,å¯¹æ—¥æœŸè¿›è¡Œæ ¡éªŒ")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("p",[n("strong",[s._v("ï¼ˆ1ï¼‰åºåˆ—åŒ–å™¨")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#éœ€æ±‚: æ·»åŠ çš„ä¹¦ç±çš„æ—¥æœŸä¸èƒ½å°äº2015å¹´")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("check_bpub_date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"date = {}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("year "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2015")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("raise")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ValidationError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"æ—¥æœŸä¸èƒ½å°äº2015å¹´"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" date\n  \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å®šä¹‰ä¹¦ç±åºåˆ—åŒ–å™¨")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookSerializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    bpub_date "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DateField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("label"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"å‘å¸ƒæ—¥æœŸ"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("validators"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("check_bpub_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ2ï¼‰ç±»è§†å›¾")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('""" ===============8, ååºåˆ—åŒ–-è‡ªå®šä¹‰æ ¡éªŒ ================= """')]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookSerializer\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å‡†å¤‡å­—å…¸æ•°æ®")]),s._v("\ndata_dict "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"btitle"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é‡‘ç“¶xxx"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bpub_date"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2011-11-01"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bread"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bcomment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºåºåˆ—åŒ–å™¨å¯¹è±¡")]),s._v("\nserializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("data_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,æ ¡éªŒ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# serializer.is_valid()")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is_valid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("raise_exception"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h3",{attrs:{id:"_19-ååºåˆ—åŒ–-æ•°æ®å…¥åº“create-æŒæ¡"}},[s._v("19 | ååºåˆ—åŒ–-æ•°æ®å…¥åº“create(æŒæ¡)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥å°†ä¹¦ç±å¯¹è±¡ä¿å­˜åˆ°æ•°æ®åº“ä¸­")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("p",[n("strong",[s._v("ï¼ˆ1ï¼‰åºåˆ—åŒ–å™¨")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookSerializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("    \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#5,é‡å†™createæ–¹æ³•,å®ç°æ•°æ®å…¥åº“")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" validated_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# print("validated_data = {}".format(validated_data))')]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,åˆ›å»ºbookå¯¹è±¡,å…¥åº“")]),s._v("\n        book "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("create"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),s._v("validated_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,è¿”å›å“åº”")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" book\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ2ï¼‰ç±»è§†å›¾")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookSerializer\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å‡†å¤‡å­—å…¸æ•°æ®")]),s._v("\ndata_dict "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"btitle"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é‡‘ç“¶xxx-ç²¾è£…ç‰ˆ"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bpub_date"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2015-11-01"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bread"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bcomment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºåºåˆ—åŒ–å™¨å¯¹è±¡")]),s._v("\nserializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("data_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,æ ¡éªŒ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# serializer.is_valid()")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is_valid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("raise_exception"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4,å…¥åº“")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("save"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ3ï¼‰æ³¨æ„ç‚¹")])]),s._v(" "),n("ul",[n("li",[n("img",{attrs:{src:a(622),alt:"image-20191217154212337"}})])]),s._v(" "),n("h3",{attrs:{id:"_20-ååºåˆ—åŒ–-æ•°æ®æ›´æ–°update-æŒæ¡"}},[s._v("20 | ååºåˆ—åŒ–-æ•°æ®æ›´æ–°update(æŒæ¡)")]),s._v(" "),n("p",[s._v("ç›®çš„: å¯ä»¥é‡å†™updateæ–¹æ³•, æ›´æ–°æ•°æ®åº“ä¸­æŒ‡å®šçš„ä¹¦ç±")]),s._v(" "),n("p",[s._v("æ“ä½œæµç¨‹:")]),s._v(" "),n("p",[n("strong",[s._v("ï¼ˆ1ï¼‰åºåˆ—åŒ–å™¨")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BookSerializer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Serializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("   \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#6,é‡å†™updateæ–¹æ³•,å®ç°æ•°æ®æ›´æ–°")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" validated_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""\n        :param instance: éœ€è¦æ›´æ–°çš„å¯¹è±¡\n        :param validated_data: éªŒè¯æˆåŠŸä¹‹åçš„æ•°æ®\n        :return:\n        """')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,æ›´æ–°æ•°æ®")]),s._v("\n        instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("btitle "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" validated_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"btitle"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bpub_date "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" validated_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bpub_date"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bread "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" validated_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bread"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bcomment "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" validated_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bcomment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("save"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,è¿”å›æ•°æ®")]),s._v("\n        book "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" book\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ2ï¼‰ç±»è§†å›¾")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serializer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookSerializer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" booktest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BookInfo\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1,å‡†å¤‡å­—å…¸æ•°æ®")]),s._v("\nbook "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ndata_dict "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"btitle"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"é‡‘ç“¶xxx-è¿ç¯ç”»"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bpub_date"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2019-11-11"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bread"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bcomment"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2,åˆ›å»ºåºåˆ—åŒ–å™¨å¯¹è±¡")]),s._v("\nserializer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BookSerializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("instance"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("book"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("data_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3,æ ¡éªŒ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# serializer.is_valid()")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is_valid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("raise_exception"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4,å…¥åº“")]),s._v("\nserializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("save"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("p",[n("strong",[s._v("ï¼ˆ3ï¼‰æ³¨æ„ç‚¹")])]),s._v(" "),n("ul",[n("li",[n("img",{attrs:{src:a(623),alt:"image-20191217160603632"}})])]),s._v(" "),n("p",[s._v("â€‹")])])}),[],!1,null,null,null);t.default=e.exports}}]);